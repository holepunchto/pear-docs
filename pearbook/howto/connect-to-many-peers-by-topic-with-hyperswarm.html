<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>Pear Docs</title>
<meta content="width=device-width, initial-scale=1" name="viewport">
<link rel="icon" type="image/png" sizes="96x96" href="/assets/favicon-96x9x.svg">
<link rel="icon" type="image/svg+xml" href="/assets/favicon.svg">
<link rel="shortcut icon" href="/assets/favicon.ico">
<link rel="apple-touch-icon" sizes="180x180" href="/assets/apple-touch-icon.png">
<link rel="manifest" href="/assets/site.webmanifest">
<link href="/assets/index.css" rel="stylesheet">
</head>
<body>
<header class="site-header"><label class="site-header__button" id="table-of-contents-toggle-button" for="table-of-contents-toggle" type="button" aria-label="Open table of contents" aria-pressed="false" data-active="false" data-state="closed"><svg class="site-header__button-icon" style="mask-image:url(/assets/bars.svg);-webkit-mask-image:url(/assets/bars.svg);mask-repeat:no-repeat;-webkit-mask-repeat:no-repeat;mask-position:center;-webkit-mask-position:center;background-color:currentColor"></svg></label><a href="/"><img alt="logo" src="/assets/pear-vector.svg"></a><div class="site-header__right"><div class="color-scheme-toggle"><button class="color-scheme-toggle__button"><div class="color-scheme-toggle__circle"></div></button></div></div></header><div class="site-container"><input id="table-of-contents-toggle" name="table-of-contents-toggle" type="checkbox"><aside class="table-of-contents" id="table-of-contents"><ul>
<li><a href="/index.html">Pear by Holepunch</a></li>
</ul>
<h3>Reference</h3>
<ul>
<li><a href="/reference/cli.html">Pear CLI</a></li>
<li><a href="/reference/configuration.html">Pear Application Configuration</a></li>
<li><a href="/reference/bare-overview.html">Bare Overview</a></li>
<li><a href="/reference/api.html">API</a></li>
<li><a href="/reference/templates.html">Templates</a></li>
<li><a href="/reference/node-compat.html">Node.js Compatibility</a></li>
<li><a href="/reference/recommended-practices.html">Recommended Practices</a></li>
<li><a href="/reference/troubleshooting.html">Troubleshooting</a></li>
<li><a href="/reference/faq.html">Frequently Asked Questions</a></li>
<li><a href="/reference/migration.html">Migration</a></li>
</ul>
<h3>Guides</h3>
<ul>
<li><a href="/guide/getting-started.html">Getting Started</a></li>
<li><a href="/guide/starting-a-pear-desktop-project.html">Starting a Pear Desktop Project</a></li>
<li><a href="/guide/making-a-pear-desktop-app.html">Making a Pear Desktop Application</a></li>
<li><a href="/guide/starting-a-pear-terminal-project.html">Starting a Pear Terminal Project</a></li>
<li><a href="/guide/making-a-pear-terminal-app.html">Making a Pear Terminal Application</a></li>
<li><a href="/guide/sharing-a-pear-app.html">Sharing a Pear Application</a></li>
<li><a href="/guide/releasing-a-pear-app.html">Releasing a Pear Application</a></li>
<li><a href="/guide/making-a-bare-mobile-app.html">Making a Bare Mobile Application</a></li>
<li><a href="/guide/debugging-a-pear-terminal-app.html">Debugging a Pear Terminal Application</a></li>
<li><a href="/guide/creating-a-pear-init-template.html">Creating a <code>pear init</code> Template</a></li>
</ul>
<h3>How-tos</h3>
<ul>
<li><a href="/howto/connect-two-peers-by-key-with-hyperdht.html">Connect two peers</a></li>
<li><a href="/howto/connect-to-many-peers-by-topic-with-hyperswarm.html">Connect many peers</a></li>
<li><a href="/howto/replicate-and-persist-with-hypercore.html">Replicate &#x26; persist</a></li>
<li><a href="/howto/work-with-many-hypercores-using-corestore.html">Manage multiple Hypercores</a></li>
<li><a href="/howto/share-append-only-databases-with-hyperbee.html">Share append-only databases</a></li>
<li><a href="/howto/create-a-full-peer-to-peer-filesystem-with-hyperdrive.html">Create a p2p filesystem</a></li>
</ul>
<h3>Pear Modules</h3>
<ul>
<li><a href="/index.html#application-libraries">Application Libraries</a></li>
<li><a href="/index.html#user-interface-libraries">User Interface Libraries</a></li>
<li><a href="/index.html#common-libraries">Common Libraries</a></li>
<li><a href="/index.html#developer-libraries">Developer Libraries</a></li>
<li><a href="/index.html#integration-libraries">Integration Libraries</a></li>
</ul>
<h3>P2P Modules</h3>
<ul>
<li><a href="/index.html#building-blocks">Building-Block Libraries</a></li>
<li><a href="/index.html#helpers">Helper Libraries</a></li>
</ul>
<h3>Building blocks</h3>
<ul>
<li><a href="/building-blocks/hypercore.html">Hypercore</a></li>
<li><a href="/building-blocks/hyperbee.html">Hyperbee</a></li>
<li><a href="/building-blocks/hyperdrive.html">Hyperdrive</a></li>
<li><a href="/building-blocks/autobase.html">Autobase</a></li>
<li><a href="/building-blocks/hyperdht.html">HyperDHT</a></li>
<li><a href="/building-blocks/hyperswarm.html">Hyperswarm</a></li>
</ul>
<h3>Helpers</h3>
<ul>
<li><a href="/helpers/corestore.html">Corestore</a></li>
<li><a href="/helpers/localdrive.html">Localdrive</a></li>
<li><a href="/helpers/mirrordrive.html">Mirrordrive</a></li>
<li><a href="/helpers/secretstream.html">Secretstream</a></li>
<li><a href="/helpers/compact-encoding.html">Compact encoding</a></li>
<li><a href="/helpers/protomux.html">Protomux</a></li>
</ul>
<h3>Bare Modules</h3>
<ul>
<li><a href="/index.html#bare-modules">Standard Libraries</a></li>
</ul>
<h3>Tools</h3>
<ul>
<li><a href="/index.html#tools">Tool List</a></li>
<li><a href="/tools/hypershell.html">Hypershell</a></li>
<li><a href="/tools/hypertele.html">Hypertele</a></li>
<li><a href="/tools/hyperbeam.html">Hyperbeam</a></li>
<li><a href="/tools/hyperssh.html">Hyperssh</a></li>
<li><a href="/tools/drives.html">Drives</a></li>
</ul>
<h3>Examples</h3>
<ul>
<li><a href="https://github.com/holepunchto/pear/tree/main/examples/terminal">Pear Terminal</a></li>
<li><a href="https://github.com/holepunchto/pear/tree/main/examples/desktop">Pear Desktop (Electron)</a></li>
<li><a href="https://github.com/holepunchto/bare-android">Bare Android</a></li>
<li><a href="https://github.com/holepunchto/bare-ios">Bare iOS</a></li>
</ul></aside><main class="site-content"><div class="heading-link"><a href="#how-to-connect-to-many-peers-by-topic-with-hyperswarm"><h1>#</h1></a><h1 id="how-to-connect-to-many-peers-by-topic-with-hyperswarm">How to connect to many peers by topic with Hyperswarm</h1></div>
<p>In the former example, two peers connected directly using the first peer's public key. Hyperswarm helps to discover peers swarming a common topic, and connect to as many of them as possible. This will become clearer in the Hypercore example, but it's the best way to distribute peer-to-peer data structures.</p>
<p>The <a href="https://github.com/holepunchto/hyperswarm">Hyperswarm</a> module provides a higher-level interface over the underlying DHT, abstracting away the mechanics of establishing and maintaining connections. Instead, 'join' topics, and the swarm discovers peers automatically. It also handles reconnections in the event of failures.</p>
<p>In the <a href="/howto/connect-two-peers-by-key-with-hyperdht.html">How to connect two Peers by key with Hyperdht</a>, we needed to explicitly indicate which peer was the server and which was the client. By using Hyperswarm, we create two peers, have them join a common topic, and let the swarm deal with connections.</p>
<p>This How-to consists of a single application, <span data-rehype-pretty-code-figure=""><code data-language="plaintext" data-theme="github-dark github-light" style="--shiki-dark:#e1e4e8;--shiki-light:#24292e;--shiki-dark-bg:#24292e;--shiki-light-bg:#fff"><span data-line=""><span>peer-app</span></span></code></span>.</p>
<p>Create the <span data-rehype-pretty-code-figure=""><code data-language="plaintext" data-theme="github-dark github-light" style="--shiki-dark:#e1e4e8;--shiki-light:#24292e;--shiki-dark-bg:#24292e;--shiki-light-bg:#fff"><span data-line=""><span>peer-app</span></span></code></span> project with the following commands:</p>
<figure data-rehype-pretty-code-figure=""><pre style="--shiki-dark:#e1e4e8;--shiki-light:#24292e;--shiki-dark-bg:#24292e;--shiki-light-bg:#fff" tabindex="0" data-language="plaintext" data-theme="github-dark github-light"><code data-language="plaintext" data-theme="github-dark github-light" style="display: grid;"><span data-line=""><span>mkdir peer-app</span></span>
<span data-line=""><span>cd peer-app</span></span>
<span data-line=""><span>pear init -y -t terminal</span></span>
<span data-line=""><span>npm install hyperswarm hypercore-crypto b4a bare-process</span></span></code></pre></figure>
<p>Alter the peer-app/index.js file to the following:</p>
<figure data-rehype-pretty-code-figure=""><pre style="--shiki-dark:#e1e4e8;--shiki-light:#24292e;--shiki-dark-bg:#24292e;--shiki-light-bg:#fff" tabindex="0" data-language="javascript" data-theme="github-dark github-light"><code data-language="javascript" data-theme="github-dark github-light" style="display: grid;"><span data-line=""><span style="--shiki-dark:#F97583;--shiki-light:#D73A49">import</span><span style="--shiki-dark:#E1E4E8;--shiki-light:#24292E"> Hyperswarm </span><span style="--shiki-dark:#F97583;--shiki-light:#D73A49">from</span><span style="--shiki-dark:#9ECBFF;--shiki-light:#032F62"> 'hyperswarm'</span></span>
<span data-line=""><span style="--shiki-dark:#F97583;--shiki-light:#D73A49">import</span><span style="--shiki-dark:#E1E4E8;--shiki-light:#24292E"> crypto </span><span style="--shiki-dark:#F97583;--shiki-light:#D73A49">from</span><span style="--shiki-dark:#9ECBFF;--shiki-light:#032F62"> 'hypercore-crypto'</span></span>
<span data-line=""><span style="--shiki-dark:#F97583;--shiki-light:#D73A49">import</span><span style="--shiki-dark:#E1E4E8;--shiki-light:#24292E"> b4a </span><span style="--shiki-dark:#F97583;--shiki-light:#D73A49">from</span><span style="--shiki-dark:#9ECBFF;--shiki-light:#032F62"> 'b4a'</span></span>
<span data-line=""><span style="--shiki-dark:#F97583;--shiki-light:#D73A49">import</span><span style="--shiki-dark:#E1E4E8;--shiki-light:#24292E"> process </span><span style="--shiki-dark:#F97583;--shiki-light:#D73A49">from</span><span style="--shiki-dark:#9ECBFF;--shiki-light:#032F62"> 'bare-process'</span></span>
<span data-line=""> </span>
<span data-line=""><span style="--shiki-dark:#F97583;--shiki-light:#D73A49">const</span><span style="--shiki-dark:#79B8FF;--shiki-light:#005CC5"> swarm</span><span style="--shiki-dark:#F97583;--shiki-light:#D73A49"> =</span><span style="--shiki-dark:#F97583;--shiki-light:#D73A49"> new</span><span style="--shiki-dark:#B392F0;--shiki-light:#6F42C1"> Hyperswarm</span><span style="--shiki-dark:#E1E4E8;--shiki-light:#24292E">()</span></span>
<span data-line=""><span style="--shiki-dark:#E1E4E8;--shiki-light:#24292E">Pear.</span><span style="--shiki-dark:#B392F0;--shiki-light:#6F42C1">teardown</span><span style="--shiki-dark:#E1E4E8;--shiki-light:#24292E">(() </span><span style="--shiki-dark:#F97583;--shiki-light:#D73A49">=></span><span style="--shiki-dark:#E1E4E8;--shiki-light:#24292E"> swarm.</span><span style="--shiki-dark:#B392F0;--shiki-light:#6F42C1">destroy</span><span style="--shiki-dark:#E1E4E8;--shiki-light:#24292E">())</span></span>
<span data-line=""> </span>
<span data-line=""><span style="--shiki-dark:#6A737D;--shiki-light:#6A737D">// Keep track of all connections and console.log incoming data</span></span>
<span data-line=""><span style="--shiki-dark:#F97583;--shiki-light:#D73A49">const</span><span style="--shiki-dark:#79B8FF;--shiki-light:#005CC5"> conns</span><span style="--shiki-dark:#F97583;--shiki-light:#D73A49"> =</span><span style="--shiki-dark:#E1E4E8;--shiki-light:#24292E"> []</span></span>
<span data-line=""><span style="--shiki-dark:#E1E4E8;--shiki-light:#24292E">swarm.</span><span style="--shiki-dark:#B392F0;--shiki-light:#6F42C1">on</span><span style="--shiki-dark:#E1E4E8;--shiki-light:#24292E">(</span><span style="--shiki-dark:#9ECBFF;--shiki-light:#032F62">'connection'</span><span style="--shiki-dark:#E1E4E8;--shiki-light:#24292E">, </span><span style="--shiki-dark:#FFAB70;--shiki-light:#E36209">conn</span><span style="--shiki-dark:#F97583;--shiki-light:#D73A49"> =></span><span style="--shiki-dark:#E1E4E8;--shiki-light:#24292E"> {</span></span>
<span data-line=""><span style="--shiki-dark:#F97583;--shiki-light:#D73A49">  const</span><span style="--shiki-dark:#79B8FF;--shiki-light:#005CC5"> name</span><span style="--shiki-dark:#F97583;--shiki-light:#D73A49"> =</span><span style="--shiki-dark:#E1E4E8;--shiki-light:#24292E"> b4a.</span><span style="--shiki-dark:#B392F0;--shiki-light:#6F42C1">toString</span><span style="--shiki-dark:#E1E4E8;--shiki-light:#24292E">(conn.remotePublicKey, </span><span style="--shiki-dark:#9ECBFF;--shiki-light:#032F62">'hex'</span><span style="--shiki-dark:#E1E4E8;--shiki-light:#24292E">)</span></span>
<span data-line=""><span style="--shiki-dark:#E1E4E8;--shiki-light:#24292E">  console.</span><span style="--shiki-dark:#B392F0;--shiki-light:#6F42C1">log</span><span style="--shiki-dark:#E1E4E8;--shiki-light:#24292E">(</span><span style="--shiki-dark:#9ECBFF;--shiki-light:#032F62">'* got a connection from:'</span><span style="--shiki-dark:#E1E4E8;--shiki-light:#24292E">, name, </span><span style="--shiki-dark:#9ECBFF;--shiki-light:#032F62">'*'</span><span style="--shiki-dark:#E1E4E8;--shiki-light:#24292E">)</span></span>
<span data-line=""><span style="--shiki-dark:#E1E4E8;--shiki-light:#24292E">  conns.</span><span style="--shiki-dark:#B392F0;--shiki-light:#6F42C1">push</span><span style="--shiki-dark:#E1E4E8;--shiki-light:#24292E">(conn)</span></span>
<span data-line=""><span style="--shiki-dark:#E1E4E8;--shiki-light:#24292E">  conn.</span><span style="--shiki-dark:#B392F0;--shiki-light:#6F42C1">once</span><span style="--shiki-dark:#E1E4E8;--shiki-light:#24292E">(</span><span style="--shiki-dark:#9ECBFF;--shiki-light:#032F62">'close'</span><span style="--shiki-dark:#E1E4E8;--shiki-light:#24292E">, () </span><span style="--shiki-dark:#F97583;--shiki-light:#D73A49">=></span><span style="--shiki-dark:#E1E4E8;--shiki-light:#24292E"> conns.</span><span style="--shiki-dark:#B392F0;--shiki-light:#6F42C1">splice</span><span style="--shiki-dark:#E1E4E8;--shiki-light:#24292E">(conns.</span><span style="--shiki-dark:#B392F0;--shiki-light:#6F42C1">indexOf</span><span style="--shiki-dark:#E1E4E8;--shiki-light:#24292E">(conn), </span><span style="--shiki-dark:#79B8FF;--shiki-light:#005CC5">1</span><span style="--shiki-dark:#E1E4E8;--shiki-light:#24292E">))</span></span>
<span data-line=""><span style="--shiki-dark:#E1E4E8;--shiki-light:#24292E">  conn.</span><span style="--shiki-dark:#B392F0;--shiki-light:#6F42C1">on</span><span style="--shiki-dark:#E1E4E8;--shiki-light:#24292E">(</span><span style="--shiki-dark:#9ECBFF;--shiki-light:#032F62">'data'</span><span style="--shiki-dark:#E1E4E8;--shiki-light:#24292E">, </span><span style="--shiki-dark:#FFAB70;--shiki-light:#E36209">data</span><span style="--shiki-dark:#F97583;--shiki-light:#D73A49"> =></span><span style="--shiki-dark:#E1E4E8;--shiki-light:#24292E"> console.</span><span style="--shiki-dark:#B392F0;--shiki-light:#6F42C1">log</span><span style="--shiki-dark:#E1E4E8;--shiki-light:#24292E">(</span><span style="--shiki-dark:#9ECBFF;--shiki-light:#032F62">`${</span><span style="--shiki-dark:#E1E4E8;--shiki-light:#24292E">name</span><span style="--shiki-dark:#9ECBFF;--shiki-light:#032F62">}: ${</span><span style="--shiki-dark:#E1E4E8;--shiki-light:#24292E">data</span><span style="--shiki-dark:#9ECBFF;--shiki-light:#032F62">}`</span><span style="--shiki-dark:#E1E4E8;--shiki-light:#24292E">))</span></span>
<span data-line=""><span style="--shiki-dark:#E1E4E8;--shiki-light:#24292E">  conn.</span><span style="--shiki-dark:#B392F0;--shiki-light:#6F42C1">on</span><span style="--shiki-dark:#E1E4E8;--shiki-light:#24292E">(</span><span style="--shiki-dark:#9ECBFF;--shiki-light:#032F62">'error'</span><span style="--shiki-dark:#E1E4E8;--shiki-light:#24292E">, </span><span style="--shiki-dark:#FFAB70;--shiki-light:#E36209">e</span><span style="--shiki-dark:#F97583;--shiki-light:#D73A49"> =></span><span style="--shiki-dark:#E1E4E8;--shiki-light:#24292E"> console.</span><span style="--shiki-dark:#B392F0;--shiki-light:#6F42C1">log</span><span style="--shiki-dark:#E1E4E8;--shiki-light:#24292E">(</span><span style="--shiki-dark:#9ECBFF;--shiki-light:#032F62">`Connection error: ${</span><span style="--shiki-dark:#E1E4E8;--shiki-light:#24292E">e</span><span style="--shiki-dark:#9ECBFF;--shiki-light:#032F62">}`</span><span style="--shiki-dark:#E1E4E8;--shiki-light:#24292E">))</span></span>
<span data-line=""><span style="--shiki-dark:#E1E4E8;--shiki-light:#24292E">})</span></span>
<span data-line=""> </span>
<span data-line=""><span style="--shiki-dark:#6A737D;--shiki-light:#6A737D">// Broadcast stdin to all connections</span></span>
<span data-line=""><span style="--shiki-dark:#E1E4E8;--shiki-light:#24292E">process.stdin.</span><span style="--shiki-dark:#B392F0;--shiki-light:#6F42C1">on</span><span style="--shiki-dark:#E1E4E8;--shiki-light:#24292E">(</span><span style="--shiki-dark:#9ECBFF;--shiki-light:#032F62">'data'</span><span style="--shiki-dark:#E1E4E8;--shiki-light:#24292E">, </span><span style="--shiki-dark:#FFAB70;--shiki-light:#E36209">d</span><span style="--shiki-dark:#F97583;--shiki-light:#D73A49"> =></span><span style="--shiki-dark:#E1E4E8;--shiki-light:#24292E"> {</span></span>
<span data-line=""><span style="--shiki-dark:#F97583;--shiki-light:#D73A49">  for</span><span style="--shiki-dark:#E1E4E8;--shiki-light:#24292E"> (</span><span style="--shiki-dark:#F97583;--shiki-light:#D73A49">const</span><span style="--shiki-dark:#79B8FF;--shiki-light:#005CC5"> conn</span><span style="--shiki-dark:#F97583;--shiki-light:#D73A49"> of</span><span style="--shiki-dark:#E1E4E8;--shiki-light:#24292E"> conns) {</span></span>
<span data-line=""><span style="--shiki-dark:#E1E4E8;--shiki-light:#24292E">    conn.</span><span style="--shiki-dark:#B392F0;--shiki-light:#6F42C1">write</span><span style="--shiki-dark:#E1E4E8;--shiki-light:#24292E">(d)</span></span>
<span data-line=""><span style="--shiki-dark:#E1E4E8;--shiki-light:#24292E">  }</span></span>
<span data-line=""><span style="--shiki-dark:#E1E4E8;--shiki-light:#24292E">})</span></span>
<span data-line=""> </span>
<span data-line=""><span style="--shiki-dark:#6A737D;--shiki-light:#6A737D">// Join a common topic</span></span>
<span data-line=""><span style="--shiki-dark:#F97583;--shiki-light:#D73A49">const</span><span style="--shiki-dark:#79B8FF;--shiki-light:#005CC5"> topic</span><span style="--shiki-dark:#F97583;--shiki-light:#D73A49"> =</span><span style="--shiki-dark:#E1E4E8;--shiki-light:#24292E"> Pear.config.args[</span><span style="--shiki-dark:#79B8FF;--shiki-light:#005CC5">0</span><span style="--shiki-dark:#E1E4E8;--shiki-light:#24292E">] </span><span style="--shiki-dark:#F97583;--shiki-light:#D73A49">?</span><span style="--shiki-dark:#E1E4E8;--shiki-light:#24292E"> b4a.</span><span style="--shiki-dark:#B392F0;--shiki-light:#6F42C1">from</span><span style="--shiki-dark:#E1E4E8;--shiki-light:#24292E">(Pear.config.args[</span><span style="--shiki-dark:#79B8FF;--shiki-light:#005CC5">0</span><span style="--shiki-dark:#E1E4E8;--shiki-light:#24292E">], </span><span style="--shiki-dark:#9ECBFF;--shiki-light:#032F62">'hex'</span><span style="--shiki-dark:#E1E4E8;--shiki-light:#24292E">) </span><span style="--shiki-dark:#F97583;--shiki-light:#D73A49">:</span><span style="--shiki-dark:#E1E4E8;--shiki-light:#24292E"> crypto.</span><span style="--shiki-dark:#B392F0;--shiki-light:#6F42C1">randomBytes</span><span style="--shiki-dark:#E1E4E8;--shiki-light:#24292E">(</span><span style="--shiki-dark:#79B8FF;--shiki-light:#005CC5">32</span><span style="--shiki-dark:#E1E4E8;--shiki-light:#24292E">)</span></span>
<span data-line=""><span style="--shiki-dark:#F97583;--shiki-light:#D73A49">const</span><span style="--shiki-dark:#79B8FF;--shiki-light:#005CC5"> discovery</span><span style="--shiki-dark:#F97583;--shiki-light:#D73A49"> =</span><span style="--shiki-dark:#E1E4E8;--shiki-light:#24292E"> swarm.</span><span style="--shiki-dark:#B392F0;--shiki-light:#6F42C1">join</span><span style="--shiki-dark:#E1E4E8;--shiki-light:#24292E">(topic, { client: </span><span style="--shiki-dark:#79B8FF;--shiki-light:#005CC5">true</span><span style="--shiki-dark:#E1E4E8;--shiki-light:#24292E">, server: </span><span style="--shiki-dark:#79B8FF;--shiki-light:#005CC5">true</span><span style="--shiki-dark:#E1E4E8;--shiki-light:#24292E"> })</span></span>
<span data-line=""> </span>
<span data-line=""><span style="--shiki-dark:#6A737D;--shiki-light:#6A737D">// The flushed promise will resolve when the topic has been fully announced to the DHT</span></span>
<span data-line=""><span style="--shiki-dark:#E1E4E8;--shiki-light:#24292E">discovery.</span><span style="--shiki-dark:#B392F0;--shiki-light:#6F42C1">flushed</span><span style="--shiki-dark:#E1E4E8;--shiki-light:#24292E">().</span><span style="--shiki-dark:#B392F0;--shiki-light:#6F42C1">then</span><span style="--shiki-dark:#E1E4E8;--shiki-light:#24292E">(() </span><span style="--shiki-dark:#F97583;--shiki-light:#D73A49">=></span><span style="--shiki-dark:#E1E4E8;--shiki-light:#24292E"> {</span></span>
<span data-line=""><span style="--shiki-dark:#E1E4E8;--shiki-light:#24292E">  console.</span><span style="--shiki-dark:#B392F0;--shiki-light:#6F42C1">log</span><span style="--shiki-dark:#E1E4E8;--shiki-light:#24292E">(</span><span style="--shiki-dark:#9ECBFF;--shiki-light:#032F62">'joined topic:'</span><span style="--shiki-dark:#E1E4E8;--shiki-light:#24292E">, b4a.</span><span style="--shiki-dark:#B392F0;--shiki-light:#6F42C1">toString</span><span style="--shiki-dark:#E1E4E8;--shiki-light:#24292E">(topic, </span><span style="--shiki-dark:#9ECBFF;--shiki-light:#032F62">'hex'</span><span style="--shiki-dark:#E1E4E8;--shiki-light:#24292E">))</span></span>
<span data-line=""><span style="--shiki-dark:#E1E4E8;--shiki-light:#24292E">})</span></span></code></pre></figure>
<p>In one terminal, open <span data-rehype-pretty-code-figure=""><code data-language="plaintext" data-theme="github-dark github-light" style="--shiki-dark:#e1e4e8;--shiki-light:#24292e;--shiki-dark-bg:#24292e;--shiki-light-bg:#fff"><span data-line=""><span>peer-app</span></span></code></span> with <span data-rehype-pretty-code-figure=""><code data-language="plaintext" data-theme="github-dark github-light" style="--shiki-dark:#e1e4e8;--shiki-light:#24292e;--shiki-dark-bg:#24292e;--shiki-light-bg:#fff"><span data-line=""><span>pear run --dev .</span></span></code></span></p>
<figure data-rehype-pretty-code-figure=""><pre style="--shiki-dark:#e1e4e8;--shiki-light:#24292e;--shiki-dark-bg:#24292e;--shiki-light-bg:#fff" tabindex="0" data-language="plaintext" data-theme="github-dark github-light"><code data-language="plaintext" data-theme="github-dark github-light" style="display: grid;"><span data-line=""><span>cd peer-app</span></span>
<span data-line=""><span>pear run --dev .</span></span></code></pre></figure>
<p>This will display the topic. Copy/paste that topic into as many additional terminals as desired with <span data-rehype-pretty-code-figure=""><code data-language="plaintext" data-theme="github-dark github-light" style="--shiki-dark:#e1e4e8;--shiki-light:#24292e;--shiki-dark-bg:#24292e;--shiki-light-bg:#fff"><span data-line=""><span>pear run --dev . &#x3C;SUPPLY TOPIC HERE></span></span></code></span> (assuming that the current working directory of each terminal is the <span data-rehype-pretty-code-figure=""><code data-language="plaintext" data-theme="github-dark github-light" style="--shiki-dark:#e1e4e8;--shiki-light:#24292e;--shiki-dark-bg:#24292e;--shiki-light-bg:#fff"><span data-line=""><span>peer-app</span></span></code></span> folder). Each peer will log information about the other connected peers.</p>
<p>Start typing into any terminal, and it will be broadcast to all connected peers.</p>
<blockquote>
<p>It is best practice to only have one Hyperswarm instance per application. This will speed up connections by reducing number of entries per topic and connections.</p>
</blockquote></main></div><script type="module" src="/assets/index.js"></script>
</body>
</html>
