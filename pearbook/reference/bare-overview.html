<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<title>Pear Docs</title>
<meta content="width=device-width, initial-scale=1" name="viewport">
<link rel="icon" type="image/png" sizes="96x96" href="/assets/favicon-96x9x.svg">
<link rel="icon" type="image/svg+xml" href="/assets/favicon.svg">
<link rel="shortcut icon" href="/assets/favicon.ico">
<link rel="apple-touch-icon" sizes="180x180" href="/assets/apple-touch-icon.png">
<link rel="manifest" href="/assets/site.webmanifest">
<link href="/assets/index.css" rel="stylesheet">
</head>
<body>
<header class="site-header"><label class="site-header__button" id="table-of-contents-toggle-button" for="table-of-contents-toggle" type="button" aria-label="Open table of contents" aria-pressed="false" data-active="false" data-state="closed"><svg class="site-header__button-icon" style="mask-image:url(/assets/bars.svg);-webkit-mask-image:url(/assets/bars.svg);mask-repeat:no-repeat;-webkit-mask-repeat:no-repeat;mask-position:center;-webkit-mask-position:center;background-color:currentColor"></svg></label><a href="/"><img alt="logo" src="/assets/pear-vector.svg"></a><div class="color-scheme-toggle"><button class="color-scheme-toggle__button" onclick="toggleColorScheme()"><div class="color-scheme-toggle__circle"></div></button></div></header><div class="site-container"><input id="table-of-contents-toggle" name="table-of-contents-toggle" type="checkbox"><aside class="table-of-contents" id="table-of-contents">
<ul>
<li><a href="/index.html">Pear by Holepunch</a></li>
</ul>
<h3>Reference</h3>
<ul>
<li><a href="/reference/cli.html">Pear CLI</a></li>
<li><a href="/reference/configuration.html">Pear Application Configuration</a></li>
<li><a href="/reference/bare-overview.html">Bare Overview</a></li>
<li><a href="/reference/api.html">API</a></li>
<li><a href="/reference/templates.html">Templates</a></li>
<li><a href="/reference/node-compat.html">Node.js Compatibility</a></li>
<li><a href="/reference/recommended-practices.html">Recommended Practices</a></li>
<li><a href="/reference/troubleshooting.html">Troubleshooting</a></li>
<li><a href="/reference/faq.html">Frequently Asked Questions</a></li>
<li><a href="/reference/migration.html">Migration</a></li>
</ul>
<h3>Guides</h3>
<ul>
<li><a href="/guide/getting-started.html">Getting Started</a></li>
<li><a href="/guide/starting-a-pear-desktop-project.html">Starting a Pear Desktop Project</a></li>
<li><a href="/guide/making-a-pear-desktop-app.html">Making a Pear Desktop Application</a></li>
<li><a href="/guide/starting-a-pear-terminal-project.html">Starting a Pear Terminal Project</a></li>
<li><a href="/guide/making-a-pear-terminal-app.html">Making a Pear Terminal Application</a></li>
<li><a href="/guide/sharing-a-pear-app.html">Sharing a Pear Application</a></li>
<li><a href="/guide/releasing-a-pear-app.html">Releasing a Pear Application</a></li>
<li><a href="/guide/making-a-bare-mobile-app.html">Making a Bare Mobile Application</a></li>
<li><a href="/guide/debugging-a-pear-terminal-app.html">Debugging a Pear Terminal Application</a></li>
<li><a href="/guide/creating-a-pear-init-template.html">Creating a <code>pear init</code> Template</a></li>
</ul>
<h3>How-tos</h3>
<ul>
<li><a href="/howto/connect-two-peers-by-key-with-hyperdht.html">Connect two peers</a></li>
<li><a href="/howto/connect-to-many-peers-by-topic-with-hyperswarm.html">Connect many peers</a></li>
<li><a href="/howto/replicate-and-persist-with-hypercore.html">Replicate &#x26; persist</a></li>
<li><a href="/howto/work-with-many-hypercores-using-corestore.html">Manage multiple Hypercores</a></li>
<li><a href="/howto/share-append-only-databases-with-hyperbee.html">Share append-only databases</a></li>
<li><a href="/howto/create-a-full-peer-to-peer-filesystem-with-hyperdrive.html">Create a p2p filesystem</a></li>
</ul>
<h3>Pear Modules</h3>
<ul>
<li><a href="/index.html#application-libraries">Application Libraries</a></li>
<li><a href="/index.html#user-interface-libraries">User Interface Libraries</a></li>
<li><a href="/index.html#common-libraries">Common Libraries</a></li>
<li><a href="/index.html#developer-libraries">Developer Libraries</a></li>
<li><a href="/index.html#integration-libraries">Integration Libraries</a></li>
</ul>
<h3>P2P Modules</h3>
<ul>
<li><a href="/index.html#building-blocks">Building-Block Libraries</a></li>
<li><a href="/index.html#helpers">Helper Libraries</a></li>
</ul>
<h3>Building blocks</h3>
<ul>
<li><a href="/building-blocks/hypercore.html">Hypercore</a></li>
<li><a href="/building-blocks/hyperbee.html">Hyperbee</a></li>
<li><a href="/building-blocks/hyperdrive.html">Hyperdrive</a></li>
<li><a href="/building-blocks/autobase.html">Autobase</a></li>
<li><a href="/building-blocks/hyperdht.html">HyperDHT</a></li>
<li><a href="/building-blocks/hyperswarm.html">Hyperswarm</a></li>
</ul>
<h3>Helpers</h3>
<ul>
<li><a href="/helpers/corestore.html">Corestore</a></li>
<li><a href="/helpers/localdrive.html">Localdrive</a></li>
<li><a href="/helpers/mirrordrive.html">Mirrordrive</a></li>
<li><a href="/helpers/secretstream.html">Secretstream</a></li>
<li><a href="/helpers/compact-encoding.html">Compact encoding</a></li>
<li><a href="/helpers/protomux.html">Protomux</a></li>
</ul>
<h3>Bare Modules</h3>
<ul>
<li><a href="/index.html#bare-modules">Standard Libraries</a></li>
</ul>
<h3>Tools</h3>
<ul>
<li><a href="/index.html#tools">Tool List</a></li>
<li><a href="/tools/hypershell.html">Hypershell</a></li>
<li><a href="/tools/hypertele.html">Hypertele</a></li>
<li><a href="/tools/hyperbeam.html">Hyperbeam</a></li>
<li><a href="/tools/hyperssh.html">Hyperssh</a></li>
<li><a href="/tools/drives.html">Drives</a></li>
</ul>
<h3>Examples</h3>
<ul>
<li><a href="https://github.com/holepunchto/pear/tree/main/examples/terminal">Pear Terminal</a></li>
<li><a href="https://github.com/holepunchto/pear/tree/main/examples/desktop">Pear Desktop (Electron)</a></li>
<li><a href="https://github.com/holepunchto/bare-android">Bare Android</a></li>
<li><a href="https://github.com/holepunchto/bare-ios">Bare iOS</a></li>
</ul></aside><main class="site-content"><h1>Bare</h1>
<p>Small and modular JavaScript runtime for desktop and mobile. Like Node.js, it provides an asynchronous, event-driven architecture for writing applications in the lingua franca of modern software. Unlike Node.js, it makes embedding and cross-device support core use cases, aiming to run just as well on your phone as on your laptop. The result is a runtime ideal for networked, peer-to-peer applications that can run on a wide selection of hardware.</p>
<figure data-rehype-pretty-code-figure=""><pre style="--shiki-dark:#e1e4e8;--shiki-light:#24292e;--shiki-dark-bg:#24292e;--shiki-light-bg:#fff" tabindex="0" data-language="sh" data-theme="github-dark github-light"><code data-language="sh" data-theme="github-dark github-light" style="display: grid;"><span data-line=""><span style="--shiki-dark:#B392F0;--shiki-light:#6F42C1">npm</span><span style="--shiki-dark:#9ECBFF;--shiki-light:#032F62"> i</span><span style="--shiki-dark:#79B8FF;--shiki-light:#005CC5"> -g</span><span style="--shiki-dark:#9ECBFF;--shiki-light:#032F62"> bare</span></span></code></pre></figure>
<h2>Usage</h2>
<figure data-rehype-pretty-code-figure=""><pre style="--shiki-dark:#e1e4e8;--shiki-light:#24292e;--shiki-dark-bg:#24292e;--shiki-light-bg:#fff" tabindex="0" data-language="console" data-theme="github-dark github-light"><code data-language="console" data-theme="github-dark github-light" style="display: grid;"><span data-line=""><span style="--shiki-dark:#79B8FF;--shiki-light:#005CC5">bare [flags] &#x3C;filename> [...args]</span></span>
<span data-line=""> </span>
<span data-line=""><span style="--shiki-dark:#79B8FF;--shiki-light:#005CC5">Evaluate a script or start a REPL session if no script is provided.</span></span>
<span data-line=""> </span>
<span data-line=""><span style="--shiki-dark:#79B8FF;--shiki-light:#005CC5">Arguments:</span></span>
<span data-line=""><span style="--shiki-dark:#79B8FF;--shiki-light:#005CC5">  &#x3C;filename>            The name of a script to evaluate</span></span>
<span data-line=""><span style="--shiki-dark:#79B8FF;--shiki-light:#005CC5">  [...args]             Additional arguments made available to the script</span></span>
<span data-line=""> </span>
<span data-line=""><span style="--shiki-dark:#79B8FF;--shiki-light:#005CC5">Flags:</span></span>
<span data-line=""><span style="--shiki-dark:#79B8FF;--shiki-light:#005CC5">  --version|-v          Print the Bare version</span></span>
<span data-line=""><span style="--shiki-dark:#79B8FF;--shiki-light:#005CC5">  --eval|-e &#x3C;script>    Evaluate an inline script</span></span>
<span data-line=""><span style="--shiki-dark:#79B8FF;--shiki-light:#005CC5">  --print|-p &#x3C;script>   Evaluate an inline script and print the result</span></span>
<span data-line=""><span style="--shiki-dark:#79B8FF;--shiki-light:#005CC5">  --inspect             Activate the inspector</span></span>
<span data-line=""><span style="--shiki-dark:#79B8FF;--shiki-light:#005CC5">  --help|-h             Show help</span></span></code></pre></figure>
<p>The specified <span data-rehype-pretty-code-figure=""><code data-language="plaintext" data-theme="github-dark github-light" style="--shiki-dark:#e1e4e8;--shiki-light:#24292e;--shiki-dark-bg:#24292e;--shiki-light-bg:#fff"><span data-line=""><span>&#x3C;script></span></span></code></span> or <span data-rehype-pretty-code-figure=""><code data-language="plaintext" data-theme="github-dark github-light" style="--shiki-dark:#e1e4e8;--shiki-light:#24292e;--shiki-dark-bg:#24292e;--shiki-light-bg:#fff"><span data-line=""><span>&#x3C;filename></span></span></code></span> is run using <span data-rehype-pretty-code-figure=""><code data-language="plaintext" data-theme="github-dark github-light" style="--shiki-dark:#e1e4e8;--shiki-light:#24292e;--shiki-dark-bg:#24292e;--shiki-light-bg:#fff"><span data-line=""><span>Module.load()</span></span></code></span>. For more information on the module system and the supported formats, see <a href="https://github.com/holepunchto/bare-module">https://github.com/holepunchto/bare-module</a>.</p>
<h2>Architecture</h2>
<p>Bare is built on top of <a href="https://github.com/holepunchto/libjs">https://github.com/holepunchto/libjs</a>, which provides low-level bindings to V8 in an engine independent manner, and <a href="https://github.com/libuv/libuv">https://github.com/libuv/libuv</a>, which provides an asynchronous I/O event loop. Bare itself only adds a few missing pieces on top to support a wider ecosystem of modules:</p>
<ol>
<li>A module system supporting both CJS and ESM with bidirectional interoperability between the two.</li>
<li>A native addon system supporting both statically and dynamically linked addons.</li>
<li>Light-weight thread support with synchronous joins and shared array buffer support.</li>
</ol>
<p>Everything else if left to userland modules to implement using these primitives, keeping the runtime itself succint and <em>bare</em>. By abstracting over both the underlying JavaScript engine using <span data-rehype-pretty-code-figure=""><code data-language="plaintext" data-theme="github-dark github-light" style="--shiki-dark:#e1e4e8;--shiki-light:#24292e;--shiki-dark-bg:#24292e;--shiki-light-bg:#fff"><span data-line=""><span>libjs</span></span></code></span> and platform I/O operations using <span data-rehype-pretty-code-figure=""><code data-language="plaintext" data-theme="github-dark github-light" style="--shiki-dark:#e1e4e8;--shiki-light:#24292e;--shiki-dark-bg:#24292e;--shiki-light-bg:#fff"><span data-line=""><span>libuv</span></span></code></span>, Bare allows module authors to implement native addons that can run on any JavaScript engine that implements the <span data-rehype-pretty-code-figure=""><code data-language="plaintext" data-theme="github-dark github-light" style="--shiki-dark:#e1e4e8;--shiki-light:#24292e;--shiki-dark-bg:#24292e;--shiki-light-bg:#fff"><span data-line=""><span>libjs</span></span></code></span> ABI and any system that <span data-rehype-pretty-code-figure=""><code data-language="plaintext" data-theme="github-dark github-light" style="--shiki-dark:#e1e4e8;--shiki-light:#24292e;--shiki-dark-bg:#24292e;--shiki-light-bg:#fff"><span data-line=""><span>libuv</span></span></code></span> supports.</p>
<h2>API</h2>
<p>Bare makes it easy to craft applications that can run effectively across a broad spectrum of devices. To get started, find the Bare API specs <a href="api.html">here</a>.</p>
<h3>Modules</h3>
<p>Bare provides no standard library beyond the core JavaScript API available through the <span data-rehype-pretty-code-figure=""><code data-language="plaintext" data-theme="github-dark github-light" style="--shiki-dark:#e1e4e8;--shiki-light:#24292e;--shiki-dark-bg:#24292e;--shiki-light-bg:#fff"><span data-line=""><span>Bare</span></span></code></span> namespace. Instead, there is a comprehensive collection of external modules built specifically for Bare, see <a href="../README.md#bare-modules">Bare Modules</a></p>
<h3>Embedding</h3>
<p>Bare can easily be embedded using the C API defined in <a href="https://github.com/holepunchto/bare/blob/main/include/bare.h"><span data-rehype-pretty-code-figure=""><code data-language="plaintext" data-theme="github-dark github-light" style="--shiki-dark:#e1e4e8;--shiki-light:#24292e;--shiki-dark-bg:#24292e;--shiki-light-bg:#fff"><span data-line=""><span>include/bare.h</span></span></code></span></a>:</p>
<figure data-rehype-pretty-code-figure=""><pre style="--shiki-dark:#e1e4e8;--shiki-light:#24292e;--shiki-dark-bg:#24292e;--shiki-light-bg:#fff" tabindex="0" data-language="c" data-theme="github-dark github-light"><code data-language="c" data-theme="github-dark github-light" style="display: grid;"><span data-line=""><span style="--shiki-dark:#F97583;--shiki-light:#D73A49">#include</span><span style="--shiki-dark:#9ECBFF;--shiki-light:#032F62"> &#x3C;bare.h></span></span>
<span data-line=""><span style="--shiki-dark:#F97583;--shiki-light:#D73A49">#include</span><span style="--shiki-dark:#9ECBFF;--shiki-light:#032F62"> &#x3C;uv.h></span></span>
<span data-line=""> </span>
<span data-line=""><span style="--shiki-dark:#79B8FF;--shiki-light:#005CC5">bare_t</span><span style="--shiki-dark:#F97583;--shiki-light:#D73A49"> *</span><span style="--shiki-dark:#E1E4E8;--shiki-light:#24292E">bare;</span></span>
<span data-line=""><span style="--shiki-dark:#B392F0;--shiki-light:#6F42C1">bare_setup</span><span style="--shiki-dark:#E1E4E8;--shiki-light:#24292E">(</span><span style="--shiki-dark:#B392F0;--shiki-light:#6F42C1">uv_default_loop</span><span style="--shiki-dark:#E1E4E8;--shiki-light:#24292E">(), platform, </span><span style="--shiki-dark:#F97583;--shiki-light:#D73A49">&#x26;</span><span style="--shiki-dark:#E1E4E8;--shiki-light:#24292E">env</span><span style="--shiki-dark:#6A737D;--shiki-light:#6A737D"> /* Optional */</span><span style="--shiki-dark:#E1E4E8;--shiki-light:#24292E">, argc, argv, options, </span><span style="--shiki-dark:#F97583;--shiki-light:#D73A49">&#x26;</span><span style="--shiki-dark:#FFAB70;--shiki-light:#E36209">bare</span><span style="--shiki-dark:#E1E4E8;--shiki-light:#24292E">);</span></span>
<span data-line=""> </span>
<span data-line=""><span style="--shiki-dark:#B392F0;--shiki-light:#6F42C1">bare_load</span><span style="--shiki-dark:#E1E4E8;--shiki-light:#24292E">(bare, filename, source, </span><span style="--shiki-dark:#F97583;--shiki-light:#D73A49">&#x26;</span><span style="--shiki-dark:#E1E4E8;--shiki-light:#24292E">module</span><span style="--shiki-dark:#6A737D;--shiki-light:#6A737D"> /* Optional */</span><span style="--shiki-dark:#E1E4E8;--shiki-light:#24292E">);</span></span>
<span data-line=""> </span>
<span data-line=""><span style="--shiki-dark:#B392F0;--shiki-light:#6F42C1">bare_run</span><span style="--shiki-dark:#E1E4E8;--shiki-light:#24292E">(bare);</span></span>
<span data-line=""> </span>
<span data-line=""><span style="--shiki-dark:#F97583;--shiki-light:#D73A49">int</span><span style="--shiki-dark:#E1E4E8;--shiki-light:#24292E"> exit_code;</span></span>
<span data-line=""><span style="--shiki-dark:#B392F0;--shiki-light:#6F42C1">bare_teardown</span><span style="--shiki-dark:#E1E4E8;--shiki-light:#24292E">(bare, </span><span style="--shiki-dark:#F97583;--shiki-light:#D73A49">&#x26;</span><span style="--shiki-dark:#FFAB70;--shiki-light:#E36209">exit_code</span><span style="--shiki-dark:#E1E4E8;--shiki-light:#24292E">);</span></span></code></pre></figure>
<p>If <span data-rehype-pretty-code-figure=""><code data-language="plaintext" data-theme="github-dark github-light" style="--shiki-dark:#e1e4e8;--shiki-light:#24292e;--shiki-dark-bg:#24292e;--shiki-light-bg:#fff"><span data-line=""><span>source</span></span></code></span> is <span data-rehype-pretty-code-figure=""><code data-language="plaintext" data-theme="github-dark github-light" style="--shiki-dark:#e1e4e8;--shiki-light:#24292e;--shiki-dark-bg:#24292e;--shiki-light-bg:#fff"><span data-line=""><span>NULL</span></span></code></span>, the contents of <span data-rehype-pretty-code-figure=""><code data-language="plaintext" data-theme="github-dark github-light" style="--shiki-dark:#e1e4e8;--shiki-light:#24292e;--shiki-dark-bg:#24292e;--shiki-light-bg:#fff"><span data-line=""><span>filename</span></span></code></span> will instead be read at runtime. For examples of how to embed Bare on mobile platforms, see <a href="https://github.com/holepunchto/bare-android">Bare Android</a> and <a href="https://github.com/holepunchto/bare-ios">Bare iOS</a>.</p>
<h3>Suspension</h3>
<p>Bare provides a mechanism for implementing process suspension, which is needed for platforms with strict application lifecycle constraints, such as mobile platforms. When suspended, a <span data-rehype-pretty-code-figure=""><code data-language="plaintext" data-theme="github-dark github-light" style="--shiki-dark:#e1e4e8;--shiki-light:#24292e;--shiki-dark-bg:#24292e;--shiki-light-bg:#fff"><span data-line=""><span>suspend</span></span></code></span> event will be emitted on the <span data-rehype-pretty-code-figure=""><code data-language="plaintext" data-theme="github-dark github-light" style="--shiki-dark:#e1e4e8;--shiki-light:#24292e;--shiki-dark-bg:#24292e;--shiki-light-bg:#fff"><span data-line=""><span>Bare</span></span></code></span> namespace. Then, when the loop has no work left and would otherwise exit, an <span data-rehype-pretty-code-figure=""><code data-language="plaintext" data-theme="github-dark github-light" style="--shiki-dark:#e1e4e8;--shiki-light:#24292e;--shiki-dark-bg:#24292e;--shiki-light-bg:#fff"><span data-line=""><span>idle</span></span></code></span> event will be emitted and the loop blocked, keeping it from exiting. When the process is later resumed, a <span data-rehype-pretty-code-figure=""><code data-language="plaintext" data-theme="github-dark github-light" style="--shiki-dark:#e1e4e8;--shiki-light:#24292e;--shiki-dark-bg:#24292e;--shiki-light-bg:#fff"><span data-line=""><span>resume</span></span></code></span> event will be emitted and the loop unblocked, allowing it to exit when no work is left.</p>
<p>The suspension API is available through <span data-rehype-pretty-code-figure=""><code data-language="plaintext" data-theme="github-dark github-light" style="--shiki-dark:#e1e4e8;--shiki-light:#24292e;--shiki-dark-bg:#24292e;--shiki-light-bg:#fff"><span data-line=""><span>bare_suspend()</span></span></code></span> and <span data-rehype-pretty-code-figure=""><code data-language="plaintext" data-theme="github-dark github-light" style="--shiki-dark:#e1e4e8;--shiki-light:#24292e;--shiki-dark-bg:#24292e;--shiki-light-bg:#fff"><span data-line=""><span>bare_resume()</span></span></code></span> from C and <span data-rehype-pretty-code-figure=""><code data-language="plaintext" data-theme="github-dark github-light" style="--shiki-dark:#e1e4e8;--shiki-light:#24292e;--shiki-dark-bg:#24292e;--shiki-light-bg:#fff"><span data-line=""><span>Bare.suspend()</span></span></code></span> and <span data-rehype-pretty-code-figure=""><code data-language="plaintext" data-theme="github-dark github-light" style="--shiki-dark:#e1e4e8;--shiki-light:#24292e;--shiki-dark-bg:#24292e;--shiki-light-bg:#fff"><span data-line=""><span>Bare.resume()</span></span></code></span> from JavaScript.</p>
<h2>Building</h2>
<p><a href="https://github.com/holepunchto/bare-make">https://github.com/holepunchto/bare-make</a> is used for compiling Bare. Start by installing the tool globally:</p>
<figure data-rehype-pretty-code-figure=""><pre style="--shiki-dark:#e1e4e8;--shiki-light:#24292e;--shiki-dark-bg:#24292e;--shiki-light-bg:#fff" tabindex="0" data-language="console" data-theme="github-dark github-light"><code data-language="console" data-theme="github-dark github-light" style="display: grid;"><span data-line=""><span style="--shiki-dark:#79B8FF;--shiki-light:#005CC5">npm i -g bare-make</span></span></code></pre></figure>
<p>Next, install the required build and runtime dependencies:</p>
<figure data-rehype-pretty-code-figure=""><pre style="--shiki-dark:#e1e4e8;--shiki-light:#24292e;--shiki-dark-bg:#24292e;--shiki-light-bg:#fff" tabindex="0" data-language="console" data-theme="github-dark github-light"><code data-language="console" data-theme="github-dark github-light" style="display: grid;"><span data-line=""><span style="--shiki-dark:#79B8FF;--shiki-light:#005CC5">npm i</span></span></code></pre></figure>
<p>Then, generate the build system:</p>
<figure data-rehype-pretty-code-figure=""><pre style="--shiki-dark:#e1e4e8;--shiki-light:#24292e;--shiki-dark-bg:#24292e;--shiki-light-bg:#fff" tabindex="0" data-language="console" data-theme="github-dark github-light"><code data-language="console" data-theme="github-dark github-light" style="display: grid;"><span data-line=""><span style="--shiki-dark:#79B8FF;--shiki-light:#005CC5">bare-make generate</span></span></code></pre></figure>
<p>This only has to be run once per repository checkout. When updating <span data-rehype-pretty-code-figure=""><code data-language="plaintext" data-theme="github-dark github-light" style="--shiki-dark:#e1e4e8;--shiki-light:#24292e;--shiki-dark-bg:#24292e;--shiki-light-bg:#fff"><span data-line=""><span>bare-make</span></span></code></span> or your compiler toolchain it might also be necessary to regenerate the build system. To do so, run the command again with the <span data-rehype-pretty-code-figure=""><code data-language="plaintext" data-theme="github-dark github-light" style="--shiki-dark:#e1e4e8;--shiki-light:#24292e;--shiki-dark-bg:#24292e;--shiki-light-bg:#fff"><span data-line=""><span>--no-cache</span></span></code></span> flag set to disregard the existing build system cache:</p>
<figure data-rehype-pretty-code-figure=""><pre style="--shiki-dark:#e1e4e8;--shiki-light:#24292e;--shiki-dark-bg:#24292e;--shiki-light-bg:#fff" tabindex="0" data-language="console" data-theme="github-dark github-light"><code data-language="console" data-theme="github-dark github-light" style="display: grid;"><span data-line=""><span style="--shiki-dark:#79B8FF;--shiki-light:#005CC5">bare-make generate --no-cache</span></span></code></pre></figure>
<p>With a build system generated, Bare can be compiled:</p>
<figure data-rehype-pretty-code-figure=""><pre style="--shiki-dark:#e1e4e8;--shiki-light:#24292e;--shiki-dark-bg:#24292e;--shiki-light-bg:#fff" tabindex="0" data-language="console" data-theme="github-dark github-light"><code data-language="console" data-theme="github-dark github-light" style="display: grid;"><span data-line=""><span style="--shiki-dark:#79B8FF;--shiki-light:#005CC5">bare-make build</span></span></code></pre></figure>
<p>When completed, the <span data-rehype-pretty-code-figure=""><code data-language="plaintext" data-theme="github-dark github-light" style="--shiki-dark:#e1e4e8;--shiki-light:#24292e;--shiki-dark-bg:#24292e;--shiki-light-bg:#fff"><span data-line=""><span>bare(.exe)</span></span></code></span> binary will be available in the <span data-rehype-pretty-code-figure=""><code data-language="plaintext" data-theme="github-dark github-light" style="--shiki-dark:#e1e4e8;--shiki-light:#24292e;--shiki-dark-bg:#24292e;--shiki-light-bg:#fff"><span data-line=""><span>build/bin</span></span></code></span> directory and the <span data-rehype-pretty-code-figure=""><code data-language="plaintext" data-theme="github-dark github-light" style="--shiki-dark:#e1e4e8;--shiki-light:#24292e;--shiki-dark-bg:#24292e;--shiki-light-bg:#fff"><span data-line=""><span>libbare.(a|lib)</span></span></code></span> and <span data-rehype-pretty-code-figure=""><code data-language="plaintext" data-theme="github-dark github-light" style="--shiki-dark:#e1e4e8;--shiki-light:#24292e;--shiki-dark-bg:#24292e;--shiki-light-bg:#fff"><span data-line=""><span>(lib)bare.(dylib|dll|lib)</span></span></code></span> libraries will be available in the root of the <span data-rehype-pretty-code-figure=""><code data-language="plaintext" data-theme="github-dark github-light" style="--shiki-dark:#e1e4e8;--shiki-light:#24292e;--shiki-dark-bg:#24292e;--shiki-light-bg:#fff"><span data-line=""><span>build</span></span></code></span> directory.</p>
<h3>Linking</h3>
<p>When linking against the static <span data-rehype-pretty-code-figure=""><code data-language="plaintext" data-theme="github-dark github-light" style="--shiki-dark:#e1e4e8;--shiki-light:#24292e;--shiki-dark-bg:#24292e;--shiki-light-bg:#fff"><span data-line=""><span>libbare.(a|lib)</span></span></code></span> library, make sure to use whole archive linking as Bare relies on constructor functions for registering native addons. Without whole archive linking, the linker will remove the constructor functions as they aren't referenced by anything.</p>
<h3>Options</h3>
<p>Bare provides a few compile options that can be configured to customize various aspects of the runtime. Compile options may be set by passing the <span data-rehype-pretty-code-figure=""><code data-language="plaintext" data-theme="github-dark github-light" style="--shiki-dark:#e1e4e8;--shiki-light:#24292e;--shiki-dark-bg:#24292e;--shiki-light-bg:#fff"><span data-line=""><span>--define option=value</span></span></code></span> flag to the <span data-rehype-pretty-code-figure=""><code data-language="plaintext" data-theme="github-dark github-light" style="--shiki-dark:#e1e4e8;--shiki-light:#24292e;--shiki-dark-bg:#24292e;--shiki-light-bg:#fff"><span data-line=""><span>bare-make generate</span></span></code></span> command when generating the build system.</p>
<blockquote>
<p>[!WARNING]<br>
The compile options are not covered by semantic versioning and are subject to change without warning.</p>
</blockquote>
<div class="table-container"><table>
<thead>
<tr>
<th align="left">Option</th>
<th align="left">Default</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left"><span data-rehype-pretty-code-figure=""><code data-language="plaintext" data-theme="github-dark github-light" style="--shiki-dark:#e1e4e8;--shiki-light:#24292e;--shiki-dark-bg:#24292e;--shiki-light-bg:#fff"><span data-line=""><span>BARE_ENGINE</span></span></code></span></td>
<td align="left"><span data-rehype-pretty-code-figure=""><code data-language="plaintext" data-theme="github-dark github-light" style="--shiki-dark:#e1e4e8;--shiki-light:#24292e;--shiki-dark-bg:#24292e;--shiki-light-bg:#fff"><span data-line=""><span>github:holepunchto/libjs</span></span></code></span></td>
<td align="left">The JavaScript engine to use</td>
</tr>
<tr>
<td align="left"><span data-rehype-pretty-code-figure=""><code data-language="plaintext" data-theme="github-dark github-light" style="--shiki-dark:#e1e4e8;--shiki-light:#24292e;--shiki-dark-bg:#24292e;--shiki-light-bg:#fff"><span data-line=""><span>BARE_PREBUILDS</span></span></code></span></td>
<td align="left"><span data-rehype-pretty-code-figure=""><code data-language="plaintext" data-theme="github-dark github-light" style="--shiki-dark:#e1e4e8;--shiki-light:#24292e;--shiki-dark-bg:#24292e;--shiki-light-bg:#fff"><span data-line=""><span>ON</span></span></code></span></td>
<td align="left">Enable prebuilds for supported third-party dependencies</td>
</tr>
</tbody>
</table></div>
<h2>Platform support</h2>
<p>Bare uses a tiered support system to manage expectations for the platforms that it targets. Targets may move between tiers between minor releases and as such a change in tier will not be considered a breaking change.</p>
<p><strong>Tier 1:</strong> Platform targets for which prebuilds are provided as defined by the <a href="https://github.com/holepunchto/bare/blob/main/.github/workflows/prebuild.yml"><span data-rehype-pretty-code-figure=""><code data-language="plaintext" data-theme="github-dark github-light" style="--shiki-dark:#e1e4e8;--shiki-light:#24292e;--shiki-dark-bg:#24292e;--shiki-light-bg:#fff"><span data-line=""><span>.github/workflows/prebuild.yml</span></span></code></span></a> workflow. Compilation and test failures for these targets will cause workflow runs to go red.</p>
<p><strong>Tier 2:</strong> Platform targets for which Bare is known to work, but without automated compilation and testing. Regressions may occur between releases and will be considered bugs.</p>
<blockquote>
<p>[!NOTE]<br>
Development happens primarily on Apple hardware with Linux and Windows systems running as virtual machines.</p>
</blockquote>
<div class="table-container"><table>
<thead>
<tr>
<th align="left">Platform</th>
<th align="left">Architecture</th>
<th align="left">Version</th>
<th align="left">Tier</th>
<th align="left">Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left">GNU/Linux</td>
<td align="left"><span data-rehype-pretty-code-figure=""><code data-language="plaintext" data-theme="github-dark github-light" style="--shiki-dark:#e1e4e8;--shiki-light:#24292e;--shiki-dark-bg:#24292e;--shiki-light-bg:#fff"><span data-line=""><span>arm64</span></span></code></span></td>
<td align="left">>= Linux 5.15, >= GNU C Library 2.35</td>
<td align="left">1</td>
<td align="left">Ubuntu 22.04, OpenWrt 23.05</td>
</tr>
<tr>
<td align="left">GNU/Linux</td>
<td align="left"><span data-rehype-pretty-code-figure=""><code data-language="plaintext" data-theme="github-dark github-light" style="--shiki-dark:#e1e4e8;--shiki-light:#24292e;--shiki-dark-bg:#24292e;--shiki-light-bg:#fff"><span data-line=""><span>x64</span></span></code></span></td>
<td align="left">>= Linux 5.15, >= GNU C Library 2.35</td>
<td align="left">1</td>
<td align="left">Ubuntu 22.04, OpenWrt 23.05</td>
</tr>
<tr>
<td align="left">GNU/Linux</td>
<td align="left"><span data-rehype-pretty-code-figure=""><code data-language="plaintext" data-theme="github-dark github-light" style="--shiki-dark:#e1e4e8;--shiki-light:#24292e;--shiki-dark-bg:#24292e;--shiki-light-bg:#fff"><span data-line=""><span>arm64</span></span></code></span></td>
<td align="left">>= Linux 5.10, >= musl 1.2</td>
<td align="left">2</td>
<td align="left">Alpine 3.13, OpenWrt 22.03</td>
</tr>
<tr>
<td align="left">GNU/Linux</td>
<td align="left"><span data-rehype-pretty-code-figure=""><code data-language="plaintext" data-theme="github-dark github-light" style="--shiki-dark:#e1e4e8;--shiki-light:#24292e;--shiki-dark-bg:#24292e;--shiki-light-bg:#fff"><span data-line=""><span>x64</span></span></code></span></td>
<td align="left">>= Linux 5.10, >= musl 1.2</td>
<td align="left">2</td>
<td align="left">Alpine 3.13, OpenWrt 22.03</td>
</tr>
<tr>
<td align="left">GNU/Linux</td>
<td align="left"><span data-rehype-pretty-code-figure=""><code data-language="plaintext" data-theme="github-dark github-light" style="--shiki-dark:#e1e4e8;--shiki-light:#24292e;--shiki-dark-bg:#24292e;--shiki-light-bg:#fff"><span data-line=""><span>mips</span></span></code></span></td>
<td align="left">>= Linux 5.10, >= musl 1.2</td>
<td align="left">2</td>
<td align="left">OpenWrt 22.03</td>
</tr>
<tr>
<td align="left">GNU/Linux</td>
<td align="left"><span data-rehype-pretty-code-figure=""><code data-language="plaintext" data-theme="github-dark github-light" style="--shiki-dark:#e1e4e8;--shiki-light:#24292e;--shiki-dark-bg:#24292e;--shiki-light-bg:#fff"><span data-line=""><span>mipsel</span></span></code></span></td>
<td align="left">>= Linux 5.10, >= musl 1.2</td>
<td align="left">2</td>
<td align="left">OpenWrt 22.03</td>
</tr>
<tr>
<td align="left">Android</td>
<td align="left"><span data-rehype-pretty-code-figure=""><code data-language="plaintext" data-theme="github-dark github-light" style="--shiki-dark:#e1e4e8;--shiki-light:#24292e;--shiki-dark-bg:#24292e;--shiki-light-bg:#fff"><span data-line=""><span>arm</span></span></code></span></td>
<td align="left">>= 9</td>
<td align="left">1</td>
<td align="left"></td>
</tr>
<tr>
<td align="left">Android</td>
<td align="left"><span data-rehype-pretty-code-figure=""><code data-language="plaintext" data-theme="github-dark github-light" style="--shiki-dark:#e1e4e8;--shiki-light:#24292e;--shiki-dark-bg:#24292e;--shiki-light-bg:#fff"><span data-line=""><span>arm64</span></span></code></span></td>
<td align="left">>= 9</td>
<td align="left">1</td>
<td align="left"></td>
</tr>
<tr>
<td align="left">Android</td>
<td align="left"><span data-rehype-pretty-code-figure=""><code data-language="plaintext" data-theme="github-dark github-light" style="--shiki-dark:#e1e4e8;--shiki-light:#24292e;--shiki-dark-bg:#24292e;--shiki-light-bg:#fff"><span data-line=""><span>ia32</span></span></code></span></td>
<td align="left">>= 9</td>
<td align="left">1</td>
<td align="left"></td>
</tr>
<tr>
<td align="left">Android</td>
<td align="left"><span data-rehype-pretty-code-figure=""><code data-language="plaintext" data-theme="github-dark github-light" style="--shiki-dark:#e1e4e8;--shiki-light:#24292e;--shiki-dark-bg:#24292e;--shiki-light-bg:#fff"><span data-line=""><span>x64</span></span></code></span></td>
<td align="left">>= 9</td>
<td align="left">1</td>
<td align="left"></td>
</tr>
<tr>
<td align="left">macOS</td>
<td align="left"><span data-rehype-pretty-code-figure=""><code data-language="plaintext" data-theme="github-dark github-light" style="--shiki-dark:#e1e4e8;--shiki-light:#24292e;--shiki-dark-bg:#24292e;--shiki-light-bg:#fff"><span data-line=""><span>arm64</span></span></code></span></td>
<td align="left">>= 11.0</td>
<td align="left">1</td>
<td align="left"></td>
</tr>
<tr>
<td align="left">macOS</td>
<td align="left"><span data-rehype-pretty-code-figure=""><code data-language="plaintext" data-theme="github-dark github-light" style="--shiki-dark:#e1e4e8;--shiki-light:#24292e;--shiki-dark-bg:#24292e;--shiki-light-bg:#fff"><span data-line=""><span>x64</span></span></code></span></td>
<td align="left">>= 11.0</td>
<td align="left">1</td>
<td align="left"></td>
</tr>
<tr>
<td align="left">iOS</td>
<td align="left"><span data-rehype-pretty-code-figure=""><code data-language="plaintext" data-theme="github-dark github-light" style="--shiki-dark:#e1e4e8;--shiki-light:#24292e;--shiki-dark-bg:#24292e;--shiki-light-bg:#fff"><span data-line=""><span>arm64</span></span></code></span></td>
<td align="left">>= 14.0</td>
<td align="left">1</td>
<td align="left"></td>
</tr>
<tr>
<td align="left">iOS</td>
<td align="left"><span data-rehype-pretty-code-figure=""><code data-language="plaintext" data-theme="github-dark github-light" style="--shiki-dark:#e1e4e8;--shiki-light:#24292e;--shiki-dark-bg:#24292e;--shiki-light-bg:#fff"><span data-line=""><span>x64</span></span></code></span></td>
<td align="left">>= 14.0</td>
<td align="left">1</td>
<td align="left">Simulator only</td>
</tr>
<tr>
<td align="left">Windows</td>
<td align="left"><span data-rehype-pretty-code-figure=""><code data-language="plaintext" data-theme="github-dark github-light" style="--shiki-dark:#e1e4e8;--shiki-light:#24292e;--shiki-dark-bg:#24292e;--shiki-light-bg:#fff"><span data-line=""><span>arm64</span></span></code></span></td>
<td align="left">>= Windows 11</td>
<td align="left">1</td>
<td align="left"></td>
</tr>
<tr>
<td align="left">Windows</td>
<td align="left"><span data-rehype-pretty-code-figure=""><code data-language="plaintext" data-theme="github-dark github-light" style="--shiki-dark:#e1e4e8;--shiki-light:#24292e;--shiki-dark-bg:#24292e;--shiki-light-bg:#fff"><span data-line=""><span>x64</span></span></code></span></td>
<td align="left">>= Windows 10</td>
<td align="left">1</td>
<td align="left"></td>
</tr>
</tbody>
</table></div></main></div>
<script src="/assets/index.js"></script>
</body>
</html>
